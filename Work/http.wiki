=超文本传输协议-http=

* 一个tcp报文中可以包含多个http数据报

==总体操作==

http协议是一种请求/响应型的协议。客户端给服务器发送请求的格式是一个请求方法（request method），URL，协议版本号，然后紧接着一个包含请求（modifiers）。

==HTTP URL==

连接：为通信而在两个程序间建立的传输层虚拟电路。

大部分HTTP/1.0的实现都是对每个请求/响应交换产生一个新的连接。而HTTP/1.1中，一个连接可以用于一个或更多请求/响应交换，虽然连接可能会因为各种原因中断。

CTL：任意控制字符（ascii码值从0到31的字节）及删除键DEL（127）。

CR：回车（13）。

LF：换行符（10）。

SP：空格（32）。

HTTP消息由从客户到服务器的请求消息和从服务器到客户的响应消息两部分组成。

==请求（Requrst）==
一个请求是从客户端到服务器端的，在消息首行里包含方法，资源指示符，协议版本。

===请求行===
请求行（Request-Line）是以一个方法标记开始，后面跟随Request-URI和协议版本（HTTP-Version），最后以CRLF结束。元素是以SP字符分隔。除了最后的CRLF，CR或LF是不被允许的。

====方法（Method）====
方法标记（token）指明了在被Reuest-URI指定的资源上执行的方法。这种方法是大小写敏感的。
```
    Method = "OPTIONS"|"GET"|"POST"|"PUT"|"DELETE"|"TRACE"|"CONNECT"|extension-method
```
资源所允许的方法有allow头域指定。响应的返回码总是通知客户某个方法对当前资源是否是被允许的，因为被允许的方法能被动态的改变。如果服务器能理解某方法但此方法对请求资源不被允许，那么源服务器应该返回405状态码（方法不允许）；如果源服务器不能识别或没有实现某个方法，那么服务器应返回501状态码（没有实现）。方法GET和HEAD必须被所有一般的服务器支持。所有其他的方法是可选的。

====请求URL（Request-URL）====
Request-URL是一种通用资源标识符，并且它用于指定请求的请求资源。
```
    Request-URI = "*"|absoluteURI|abs_path|authotity
```
"*"
```
    OPTIONS * HTTP/1.1
```

绝对URI
```
    GET http://www.w3.org/pub/www/TheProject.html HTTP/1.1
```

绝对路径（absolute path）不能是空的；如果在原始URI里没有出现绝对路径，必须给出“/”（服务器的根）。
```
    GET /pub/WWW/TheProject.html HTTP/1.1
    Host: www.w3.org
```
authority格式只被用于CONNECT方法。

相对路径应该是页面的其他资源相对于整个url。

===请求资源的识别（The Resource Identified by a Request）===
* 如果Request-URI是绝对地址（absoluteURI），那么主机（host）是Request—URI的一部分。任何出现在请求里Host头域的值应当被忽略。
* 如果Request-URI不是绝对地址，并且请求包括一个Host头域，则主机（host）由该Host头域的值决定。
 
===请求头域（Request Header Fields）===
